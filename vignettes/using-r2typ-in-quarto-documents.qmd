---
title: Using r2typ in Quarto documents
vignette: >
  %\VignetteIndexEntry{using-r2typ-in-quarto-documents}
  %\VignetteEngine{quarto::html}
  %\VignetteEncoding{UTF-8}
knitr:
  opts_chunk:
    collapse: true
    comment: '#>'
    message: false
---

```{r}
#| message: false
library(r2typ)
```

To include the output of `{r2typ}` in your Quarto documents, you need to convert it to "raw" Typst with the `as_quarto_typst()` function.

````md
---
title: "{r2typ} demo"
format: typst
---

This is a demo of the `{r2typ}` package.

```{{r}}
library(r2typ)
```

## Simple usage

```{{r}}
heading(level = 2, numbering = "1.1", "Hello world") |>
  as_quarto_typst()
```
````

![](./r2typ-with-quarto-output.png)

Calling `as_quarto_typst()` will convert your Typst markup to a valid format to be interpreted by Quarto and the Typst compiler.

## Advanced usage

`{r2typ}` becomes very interesting when using dynamic values and advanced function calls. For example, here we use a parameter and add it inside the text of a square:

````md
---
title: "{r2typ} demo"
format: typst
params:
  country: Germany
---

This is a demo of the `{r2typ}` package.

```{{r}}
library(r2typ)
library(glue)
```

## Complex usage

```{{r}}
align(
  center + horizon,
  circle(
    width = percent(40),
    fill = aqua,
    stroke = pt(5) + red,
    align(
      right,
      text(
        font = "Roboto",
        size = em(1.2),
        fill = purple,
        glue("My favorite country is {params$country}")
      )
    )
  )
) |>
  as_quarto_typst()
```
````

![](./r2typ-with-quarto-output-2.png)